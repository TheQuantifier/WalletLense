<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <script>
    (function () {
      const rawPage = (window.location.pathname.split("/").pop() || "").toLowerCase();
      const currentPage = rawPage === "" ? "index.html" : rawPage;
      const cachedTitle = sessionStorage.getItem(`pageTitle:${currentPage}`);
      if (cachedTitle) {
        document.title = cachedTitle;
      }
    })();
  </script>

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>&lt;AppName&gt; - Settings</title>

  <link rel="icon" type="image/png" href="images/favicon.png" />

  <link rel="stylesheet" href="styles/default.css" />
  <link rel="stylesheet" href="styles/settings.css" />
</head>

<body>

  <div id="header"></div>


  <main class="main main--profile settings-container">

    <!-- HERO -->
    <section class="profile-hero">
      <div class="title-wrap">
        <h1>Settings</h1>
        <p class="subtle">Manage your application preferences</p>
      </div>
    </section>

    <div class="profile-grid">

      <!-- GENERAL -->
      <section class="settings-card">
        <h2>General</h2>

        <div class="settings-row">
          <label>Dark Mode</label>
          <button class="settings-btn btn--primary" id="toggleDarkMode" type="button">Toggle</button>  
        </div>

        <div class="settings-row">
          <label>Language</label>
          <select class="settings-input" id="languageSelect">
            <option>English</option>
            <option>Spanish</option>
            <option>French</option>
          </select>
        </div>

      </section>

      <!-- FORMATTING -->
      <section class="settings-card">
        <h2>Formatting</h2>

        <div class="settings-row">
          <label>Time Zone</label>
          <select class="settings-input" id="timezoneSelect">
            <option value="UTC-12:00">(UTC-12:00) Baker Island</option>
            <option value="UTC-11:00">(UTC-11:00) Niue, Samoa</option>
            <option value="UTC-10:00">(UTC-10:00) Hawaii</option>
            <option value="UTC-09:00">(UTC-09:00) Alaska</option>
            <option value="UTC-08:00">(UTC-08:00) Pacific Time (US & Canada)</option>
            <option value="UTC-07:00">(UTC-07:00) Mountain Time (US & Canada)</option>
            <option value="UTC-06:00">(UTC-06:00) Central Time (US & Canada)</option>
            <option value="America/New_York">(EST) Eastern Time (US & Canada)</option>
            <option value="UTC+00:00">(UTC+00:00) London, Lisbon</option>
            <option value="UTC+01:00">(UTC+01:00) Berlin, Paris, Rome</option>
            <option value="UTC+05:30">(UTC+05:30) India</option>
            <option value="UTC+08:00">(UTC+08:00) Beijing, Singapore</option>
            <option value="UTC+09:00">(UTC+09:00) Tokyo, Seoul</option>
            <option value="UTC+10:00">(UTC+10:00) Sydney</option>
            <option value="UTC+12:00">(UTC+12:00) Auckland</option>
          </select>
        </div>

        <div class="settings-row">
          <label>Currency Format</label>
          <select class="settings-input" id="currencySelect">
            <option value="USD">USD ($)</option>
            <option value="EUR">EUR (€)</option>
            <option value="GBP">GBP (£)</option>
            <option value="INR">INR (₹)</option>
            <option value="CAD">CAD ($)</option>
            <option value="AUD">AUD ($)</option>
            <option value="JPY">JPY (¥)</option>
          </select>
        </div>

        <div class="settings-row">
          <label>Number Format</label>
          <select class="settings-input" id="numberFormatSelect">
            <option value="US">1,000.00</option>
            <option value="EU">1.000,00</option>
          </select>
        </div>

        <div class="settings-row">
          <label>Default Dashboard View</label>
          <select class="settings-input" id="dashboardViewSelect">
            <option value="Weekly">Weekly</option>
            <option value="Monthly">Monthly</option>
            <option value="Yearly">Yearly</option>
             <option value="All Time">All Time</option>
          </select>
        </div>

        <!-- SAVE BUTTON -->
        <div class="settings-row settings-actions">
          <button class="settings-btn btn--primary" id="saveSettingsBtn" type="button">Save Settings</button>
          <p id="settingsStatus" class="status-banner subtle is-hidden" aria-live="polite"></p>
        </div>
      </section>

      <!-- NOTIFICATIONS -->
      <section class="settings-card">
        <h2>Notifications</h2>

        <div class="settings-row">
          <label>
            Email Notifications
            <input type="checkbox" id="notif_email" />
          </label>
        </div>

        <div class="settings-row">
          <label>
            SMS Alerts
            <input type="checkbox" id="notif_sms" />
          </label>
        </div>
      </section>

      <!-- ACCOUNT -->
      <section class="settings-card">
        <h2>Account</h2>

        <div class="settings-row">
          <label>Two-Factor Authentication (Email)</label>
          <div class="settings-actions-inline">
            <span id="twoFaStatus" class="subtle">Loading…</span>
            <button class="settings-btn btn--primary" id="enableTwoFaBtn" type="button">Enable</button>
            <button class="settings-btn btn--danger is-hidden" id="disableTwoFaBtn" type="button">Disable</button>
          </div>
        </div>

        <div class="settings-row">
          <label>Password</label>
          <div class="settings-actions-inline">
            <button class="settings-btn btn--primary" id="changePasswordBtn" type="button">Change Password</button>
          </div>
        </div>

        <div class="settings-row is-hidden" id="googleConnectRow">
          <label>Google Sign-In</label>
          <div class="settings-actions-inline">
            <span id="googleConnectStatus" class="subtle">Not connected</span>
            <button class="settings-btn btn--primary" id="connectGoogleBtn" type="button">Connect Google</button>
          </div>
        </div>

        <div class="settings-row">
          <label>Active Sessions</label>
          <div id="sessionsList" class="session-list">
            <p class="subtle">Loading sessions…</p>
          </div>
        </div>

        <div class="settings-row">
          <label>Sign Out All Devices</label>
          <button class="settings-btn btn--danger" id="signOutAllBtn" type="button">Sign Out All</button>
        </div>

        <div class="settings-row">
          <label>Delete Account</label>
          <button class="settings-btn btn--danger" id="deleteAccountBtn" type="button">Delete</button>
        </div>
      </section>

    </div>
  </main>

  <div id="footer"></div>
  <script>
    (function () {
      const cached = sessionStorage.getItem("cachedFooterHtml");
      if (!cached) return;
      const el = document.getElementById("footer");
      if (el && !el.hasChildNodes()) {
        el.innerHTML = cached;
      }
    })();
  </script>


  <!-- DELETE ACCOUNT CONFIRM MODAL -->
  <div class="modal hidden" id="deleteAccountModal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="deleteAccountTitle">
      <h2 id="deleteAccountTitle">Delete Account</h2>
      <p class="subtle">This will permanently delete your account and data. This action cannot be undone.</p>

      <label>
        <span class="label">Type <strong>DELETE</strong> to confirm</span>
        <input id="deleteConfirmInput" type="text" autocomplete="off" placeholder="DELETE" />
      </label>

      <div class="modal-actions">
        <button class="btn btn--danger" id="confirmDeleteAccountBtn" type="button">Delete Account</button>
        <button class="btn" id="cancelDeleteAccountBtn" type="button">Cancel</button>
      </div>

      <p id="deleteAccountStatus" class="status-banner subtle is-hidden" aria-live="polite"></p>
    </div>
  </div>

  <!-- SIGN OUT ALL CONFIRM MODAL -->
  <div class="modal hidden" id="signOutAllModal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="signOutAllTitle">
      <h2 id="signOutAllTitle">Sign Out All Devices</h2>
      <p class="subtle">Please re-enter your password to sign out of all devices.</p>

      <label>
        <span class="label">Password</span>
        <input id="signOutAllPassword" type="password" autocomplete="current-password" placeholder="Password" />
      </label>

      <div class="modal-actions">
        <button class="btn btn--danger" id="confirmSignOutAllBtn" type="button">Sign Out All</button>
        <button class="btn" id="cancelSignOutAllBtn" type="button">Cancel</button>
      </div>

      <p id="signOutAllStatus" class="status-banner subtle is-hidden" aria-live="polite"></p>
    </div>
  </div>

  <!-- CHANGE PASSWORD MODAL -->
  <div class="modal hidden" id="passwordModal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="passwordModalTitle">
      <h2 id="passwordModalTitle">Change Password</h2>
      <p class="subtle">Use a strong unique password for better security.</p>

      <form id="passwordForm" class="form-grid">
        <label class="span-2">
          <span class="label">Current Password</span>
          <input id="currentPassword" type="password" autocomplete="current-password" required />
        </label>

        <label class="span-2">
          <span class="label">New Password</span>
          <input id="newPassword" type="password" autocomplete="new-password" required minlength="8" />
        </label>

        <label class="span-2">
          <span class="label">Confirm New Password</span>
          <input id="confirmPassword" type="password" autocomplete="new-password" required minlength="8" />
        </label>

        <label class="span-2 is-hidden" id="passwordTwoFaRow">
          <span class="label">2FA Code</span>
          <input
            id="passwordTwoFaCode"
            type="text"
            inputmode="numeric"
            autocomplete="one-time-code"
            placeholder="6-digit code"
          />
        </label>

        <div class="modal-actions span-2">
          <button type="button" class="btn" id="closePasswordModal">Cancel</button>
          <button type="submit" class="btn btn--primary">Update Password</button>
        </div>
      </form>

      <p id="passwordStatus" class="status-banner subtle is-hidden" aria-live="polite"></p>
    </div>
  </div>

  <!-- 2FA ENABLE MODAL -->
  <div class="modal hidden" id="enableTwoFaModal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="enableTwoFaTitle">
      <h2 id="enableTwoFaTitle">Enable Two-Factor Authentication</h2>
      <p class="subtle">Enter the code sent to your email to enable 2FA.</p>

      <label>
        <span class="label">Verification Code</span>
        <input id="twoFaCodeInput" type="text" inputmode="numeric" autocomplete="one-time-code" placeholder="6-digit code" />
      </label>

      <div class="modal-actions">
        <button class="btn btn--primary" id="confirmEnableTwoFaBtn" type="button">Verify & Enable</button>
        <button class="btn" id="cancelEnableTwoFaBtn" type="button">Cancel</button>
      </div>

      <p id="enableTwoFaStatus" class="status-banner subtle is-hidden" aria-live="polite"></p>
    </div>
  </div>

  <!-- 2FA DISABLE MODAL -->
  <div class="modal hidden" id="disableTwoFaModal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="disableTwoFaTitle">
      <h2 id="disableTwoFaTitle">Disable Two-Factor Authentication</h2>
      <p class="subtle">Enter your password to disable 2FA.</p>

      <label>
        <span class="label">Password</span>
        <input id="twoFaDisablePassword" type="password" autocomplete="current-password" placeholder="Password" />
      </label>

      <div class="modal-actions">
        <button class="btn btn--danger" id="confirmDisableTwoFaBtn" type="button">Disable 2FA</button>
        <button class="btn" id="cancelDisableTwoFaBtn" type="button">Cancel</button>
      </div>

      <p id="disableTwoFaStatus" class="status-banner subtle is-hidden" aria-live="polite"></p>
    </div>
  </div>

  <script src="scripts/default.js" type="module"></script>
  <script src="scripts/settings.js" type="module"></script>

</body>
</html>


